{"version":3,"sources":["serviceWorker.js","containers/AppContainer.js","store/reducers.js","store/location.js","store/createStore.js","index.js","fetch/fetch.js","fetch/index.js","api/index.js","components/CommonMenu/conf.js","components/Logout/index.js","components/CommonMenu/CommonMenu.jsx","components/CommonMenu/index.js","layouts/CoreLayout/CoreLayout.jsx","layouts/CoreLayout/index.js","routes/Login/Login.jsx","routes/Login/index.js","constants/patterns.js","routes/Signup/conf.js","routes/Signup/Signup.jsx","routes/Signup/index.js","routes/Search/conf.js","components/ArticleTypeSelect/index.js","components/NumberInfo/NumberInfo.jsx","components/NumberInfo/index.js","components/InfoBlock/InfoBlock.js","components/InfoBlock/index.js","routes/Search/ArticleDetail.jsx","routes/Search/Search.jsx","routes/Search/index.js","routes/Self/conf.js","components/UserInfoModal/conf.js","components/UserInfoModal/index.js","routes/Self/index.js","routes/Self/Self.jsx","routes/UserManager/conf.js","routes/UserManager/index.js","routes/UserManager/UserManager.jsx","routes/ArticleManager/TagList.jsx","components/ArticleUpload/index.js","routes/ArticleManager/conf.js","routes/ArticleManager/ArticleModal.jsx","routes/ArticleManager/index.js","routes/ArticleManager/ArticleManager.jsx","routes/ForgetPwd/Verify.jsx","routes/ForgetPwd/SetPwd.jsx","routes/ForgetPwd/index.js","routes/ForgetPwd/ForgetPwd.jsx","routes/index.js"],"names":["__webpack_require__","d","__webpack_exports__","unregister","Boolean","window","location","hostname","match","navigator","serviceWorker","ready","then","registration","AppContainer","document","querySelector","style","display","history","dirname","useBasename","basename","concat","_this$props","this","props","routes","store","syncHistoryWithStore","browserHistory","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_redux__WEBPACK_IMPORTED_MODULE_8__","react_router__WEBPACK_IMPORTED_MODULE_6__","withBasename","children","Component","makeRootReducer","asyncReducers","combineReducers","Object","objectSpread","routing","routerReducer","LOCATION_CHANGE","updateLocation","_ref","dispatch","nextLocation","arguments","length","undefined","type","payload","locationChange","initialState","sagaMiddleware","createSagaMiddleware","middleware","composeEnhancers","compose","process","composeWithDevToolsExtension","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","apply","applyMiddleware","asyncSagas","runSaga","saga","run","unsubscribeHistory","listen","r","global","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_serviceWorker__WEBPACK_IMPORTED_MODULE_3__","_containers_AppContainer__WEBPACK_IMPORTED_MODULE_4__","wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_5__","wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_5___default","_store_createStore__WEBPACK_IMPORTED_MODULE_6__","MOUNT_NODE","getElementById","___INITIAL_STATE__","Emiter","EventEmiter","require","default","ReactDOM","render","SUCCESS","checkStatus","response","status","Promise","resolve","message","msg","code","result","getErrorMsgByStatusCode","reject","checkCode","data","handleError","e","console","log","onLine","error","jsonParse","res","json","jsonResult","catch","err","Error","fetch","request","url","config","fetchAPI","api","body","multipartFormData","method","headers","Accept-Language","X-Requested-With","credentials","_","isFunction","$dept","$rest","isEmpty","params","isPlainObject","querystring","stringify","formData","FormData","name","value","JSON","append","src_api","getUserTest","login","signup","getUser","logout","changeUser","changePwd","check","getAllUsers","deleteUser","getArticleTypes","addArticleType","getArticles","getArticleDetail","getUploadToken","createArticle","updateArticle","deleteArticle","focusArticle","unfocusArticle","getFocusList","BaseMenu","title","icon","key","AdminMenu","Logout","handleLogout","_callee","regenerator_default","wrap","_context","prev","next","apis","success","_this","router","replace","t0","stop","_this2","_this$props$user","user","react_default","className","user_name","onClick","modal","es_modal","confirm","content","onCancel","destroy","onOk","Header","CommonMenu","handleClickMenu","keyPath","path","isAdmin","isLogin","keys","src","alt","border","menu","theme","mode","defaultSelectedKeys","lineHeight","is_admin","map","item","Item","Logout_Logout","Content","specialPaths","CoreLayout","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","fetchUserInfo","asyncToGenerator","mark","sent","setState","pathname","routerPush","push","state","collapsed","reRenderHash","nextProps","includes","locale_provider","locale","es_layout","components_CommonMenu","React","cloneElement","backgroundImg","contextTypes","PropTypes","object","isRequired","defaultPropTypes","UserName","Lg","Password","Tab","Submit","routes_Login","component","tab","handleSubmit","abrupt","card","Login_default","defaultActiveKey","onTabChange","onSubmit","placeholder","patterns","username","password","email","phone","FORM_CONF","label","input","rules","required","pattern","FORM_LAYOUT","labelCol","span","wrapperCol","Signup","form","validateFields","values","user_pwd","user_pwd_again","_x","_x2","getFieldDecorator","es_form","layout","assign","es_button","routes_Signup","create","COLUMNS","width","dataIndex","text","Ellipsis_default","lines","tooltip","INFO_CONF","article_author","col","article_type_name","created_at","updated_at","article_desc","ArticleTypeSelect","list","fetchTypes","es_select","Option","id","NumberInfo","child","infoData","trend","color","dataKey","formatRule","percentage","addonAfter","colorConf","Fragment","numeral","get","format","Trend_default","flag","defaultProps","SPECIAL_NODES","InfoBlock","getColLayout","_this$props$layout","xs","sm","lg","xl","handleMutation","mutations","colLayout","currentWidth","target","offsetWidth","newColLayout","getMutationObserver","func","delay","MutationObserver","WebKitMutationObserver","MozMutationObserver","debounce","leading","handleLongItem","visibility","appendChild","domArray","querySelectorAll","forEach","val","labelClasses","hasLabel","hasCol","hasCalculated","firstChild","innerHTML","singleWidth","currentColLayout","parentNode","removeChild","getCurrentInfo","conf","isChange","changeData","renderKey","currentData","isString","handleRender","renderType","neededRenderComponent","Map","components_NumberInfo","customOptions","TypeError","loading","_this$props2","needResponsiveLayout","_observer","prevProps","_this$props3","containerSelector","isEqual","_dom","observe","attributes","_this$state","_this$props4","expandRender","bordered","size","row","_config$key","isLongItem","withoutLabel","hasAuth","isSpecialNode","labelClass","currentLayout","renderResult","renderChangeResult","needRenderChangedData","isUndefined","es_col","minHeight","autoAdjustOverflow","ArticleDetail","fetchDetail","drawer","destroyOnClose","placement","visible","onClose","handleClose","PageHeader_default","article_title","logo","components_InfoBlock","article_url","height","Search","detailVisible","fetchArticles","_args","handleFocus","_callee2","isFocus","_context2","handleSearch","getFieldsValue","_this$props$form","resetFields","articleId","ArticleTypeSelect_ArticleTypeSelect","textAlign","marginRight","table","rowKey","columns","dataSource","ArticleDetail_ArticleDetail","_this3","operation","record","isFocused","focus_people","parse","String","toConsumableArray","routes_Search","Self_conf","user_phone","user_email","UserInfoModal","vals","afterSubmit","_this$props$isAdmin","disabled","initialValue","components_UserInfoModal","routes_Self","handleUnfocus","fetchFocusArticles","InfoConf","action","reload","routes_UserManager","components","getList","handleDelete","popconfirm","onConfirm","TagList","tags","typeName","fetchTags","handleAdd","spin","spinning","onChange","divider","tag","empty","ArticleUpload","token","canUpload","fetchToken","handleChange","_ref2","file","fileList","hash","file_name","upload","accept","upload_token","ArticleModal","handleCreate","article_file","handleCancel","afterCreate","handleEdit","article","_x3","_x4","isEdit","Number","article_type","TextArea","cannotshow","ArticleUpload_ArticleUpload","ArticleManager_ArticleModal","routes_ArticleManager","TagList_TagList","extra","Verify","handleVerify","goNext","ForgetPwd_Verify","SetPwd","ForgetPwd_SetPwd","routes_ForgetPwd","current","steps","padding","Step","mainContent","0","1","routes_createRoutes","createRoutes","onUpdate","scrollTo","childRoutes","Login","Self","UserManager","ArticleManager","ForgetPwd"],"mappings":"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","file":"static/js/main.e32c5b9a.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { browserHistory, Router } from 'react-router'\r\nimport { syncHistoryWithStore } from 'react-router-redux'\r\nimport { Provider } from 'react-redux'\r\nimport { useBasename } from 'history'\r\n\r\nconst baseName = ''\r\n\r\nclass AppContainer extends Component {\r\n  shouldComponentUpdate () {\r\n    return false\r\n  }\r\n\r\n  componentDidMount () {\r\n    document.querySelector('#root').style.display = 'block'\r\n  }\r\n  withBasename (history, dirname) {\r\n    return useBasename(() => history)({ basename: `/${dirname}` })\r\n  }\r\n  render () {\r\n    const { routes, store } = this.props\r\n    const history = syncHistoryWithStore(browserHistory, store)\r\n    return (\r\n      <Provider store={store}>\r\n        <div>\r\n          <Router history={this.withBasename(history, baseName)} children={routes} />\r\n        </div>\r\n      </Provider>\r\n    )\r\n  }\r\n}\r\n\r\nAppContainer.propTypes = {\r\n  routes : PropTypes.object.isRequired,\r\n  store  : PropTypes.object.isRequired,\r\n}\r\n\r\nexport default AppContainer\r\n","import { combineReducers } from 'redux'\r\nimport { routerReducer } from 'react-router-redux'\r\n\r\nexport const makeRootReducer = (asyncReducers) => {\r\n  return combineReducers({\r\n    routing: routerReducer,\r\n    ...asyncReducers,\r\n  })\r\n}\r\n\r\nexport const injectReducer = (store, { key, reducer }) => {\r\n  if (Object.hasOwnProperty.call(store.asyncReducers, key)) return\r\n\r\n  store.asyncReducers[key] = reducer\r\n  store.replaceReducer(makeRootReducer(store.asyncReducers))\r\n}\r\n\r\nexport default makeRootReducer\r\n","// ------------------------------------\r\n// Constants\r\n// ------------------------------------\r\nexport const LOCATION_CHANGE = 'LOCATION_CHANGE'\r\n\r\n// ------------------------------------\r\n// Actions\r\n// ------------------------------------\r\nexport function locationChange (location = '/') {\r\n  return {\r\n    type    : LOCATION_CHANGE,\r\n    payload : location,\r\n  }\r\n}\r\n\r\n// ------------------------------------\r\n// Specialized Action Creator\r\n// ------------------------------------\r\nexport const updateLocation = ({ dispatch }) => {\r\n  return (nextLocation) => dispatch(locationChange(nextLocation))\r\n}\r\n\r\n// ------------------------------------\r\n// Reducer\r\n// ------------------------------------\r\nconst initialState = null\r\nexport default function locationReducer (state = initialState, action) {\r\n  return action.type === LOCATION_CHANGE\r\n    ? action.payload\r\n    : state\r\n}\r\n","import { applyMiddleware, compose, createStore } from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport { browserHistory } from 'react-router'\r\nimport makeRootReducer from './reducers'\r\nimport { updateLocation } from './location'\r\n\r\nexport default (initialState = {}) => {\r\n  // ======================================================\r\n  // Middleware Configuration\r\n  // ======================================================\r\n  const sagaMiddleware = createSagaMiddleware()\r\n  const middleware = [sagaMiddleware]\r\n\r\n  // ======================================================\r\n  // Store Enhancers\r\n  // ======================================================\r\n  const enhancers = []\r\n\r\n  let composeEnhancers = compose\r\n\r\n  if (process.env === 'development') {\r\n    const composeWithDevToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    if (typeof composeWithDevToolsExtension === 'function') {\r\n      composeEnhancers = composeWithDevToolsExtension\r\n    }\r\n  }\r\n\r\n  // ======================================================\r\n  // Store Instantiation and HMR Setup\r\n  // ======================================================\r\n  const store = createStore(\r\n    makeRootReducer(),\r\n    initialState,\r\n    composeEnhancers(\r\n      applyMiddleware(...middleware),\r\n      ...enhancers\r\n    )\r\n  )\r\n  store.asyncSagas = {}\r\n  store.asyncReducers = {}\r\n  store.runSaga = (saga) => {\r\n    sagaMiddleware.run(saga)\r\n  }\r\n\r\n  // To unsubscribe, invoke `store.unsubscribeHistory()` anytime\r\n  store.unsubscribeHistory = browserHistory.listen(updateLocation(store))\r\n\r\n  if (module.hot) {\r\n    module.hot.accept('./reducers', () => {\r\n      const reducers = require('./reducers').default\r\n      store.replaceReducer(reducers(store.asyncReducers))\r\n    })\r\n  }\r\n\r\n  return store\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n// import App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport AppContainer from './containers/AppContainer'\r\nimport EventEmiter from 'wolfy87-eventemitter'\r\nimport createStore from './store/createStore'\r\n\r\nconst MOUNT_NODE = document.getElementById('root')\r\nconst initialState = window.___INITIAL_STATE__\r\nconst store = createStore(initialState)\r\nglobal.Emiter = new EventEmiter()\r\nconst routes = require('./routes/index').default(store)\r\nReactDOM.render(\r\n  <AppContainer store={store} routes={routes} />,\r\n  MOUNT_NODE\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import fetch from 'isomorphic-fetch'\r\nimport { message as ms } from 'antd'\r\nconst SUCCESS = 1\r\n/**\r\n * 检查接口响应状态码\r\n *\r\n * @param {Object} response fetch返回的响应对象\r\n * @return {Object} 状态码正常时返回响应本身，否则返回 reject 信息\r\n */\r\nfunction checkStatus (response) {\r\n  if (response.status >= 200 && response.status < 300) {\r\n    return Promise.resolve(response)\r\n  } else {\r\n    const message = getErrorMsgByStatusCode(response.msg, response.status)\r\n    return Promise.reject({ message, response })\r\n  }\r\n}\r\nfunction checkCode (response) { \r\n  if (response.code === SUCCESS) {\r\n    return Promise.resolve(response.data) \r\n  } else { \r\n    return Promise.reject(response) \r\n  } \r\n} \r\n  \r\n  \r\n/**\r\n * 返回状态码对应文本提示信息\r\n *\r\n * @param {number} code 响应状态码\r\n * @return {string} 文本提示\r\n */\r\nfunction getErrorMsgByStatusCode (msg, code) {\r\n  let result = '未知错误'\r\n  if (code >= 400 && code < 500) {\r\n    switch (code) {\r\n      case 401:\r\n        result = msg || '您尚未登录,请登录后访问.'\r\n        break\r\n      case 403:\r\n        result = msg || '您所请求的资源被禁止访问.'\r\n        break\r\n      case 404:\r\n        result = msg || '您所请求的资源并不存在.'\r\n        break\r\n      case 405:\r\n        result = msg || '非法请求被禁止.'\r\n        break\r\n      case 406:\r\n        result = msg || '参数错误.'\r\n        break\r\n      default:\r\n        result = `抱歉，程序出了问题(${code}).`\r\n    }\r\n  } else if (code >= 500 && code < 600) {\r\n    result = msg || '服务器出错啦.'\r\n  }\r\n  return result\r\n}\r\n\r\n/**\r\n * 异常处理函数，包含错误提示\r\n *\r\n * @param {Object} e 错误信息\r\n */\r\nfunction handleError (e) {\r\n  console.log('request failed', e)\r\n  // 断网情况\r\n  !e.response && (e.message = (navigator && navigator.onLine) ? '网络异常' : '网络中断')\r\n  ms.error(e.msg || e.message)\r\n  throw e\r\n}\r\n\r\n/**\r\n * 服务端返回响应值\r\n * @param {Object} res response的响应信息\r\n */\r\nfunction jsonParse (res) {\r\n  return res.json()\r\n    .then(jsonResult => jsonResult)\r\n    .catch((err) => {\r\n      const error = new Error(err.message)\r\n      ms.error('json 解析错误')\r\n      Promise.reject(error)\r\n    })\r\n}\r\n\r\nexport default {\r\n  request:(url, config) => {\r\n    return fetch(url, config)\r\n      .then(checkStatus)\r\n      .then(jsonParse)\r\n      .then(checkCode)\r\n      .catch(handleError)\r\n  },\r\n}\r\n","import fetch from './fetch'\r\nimport _ from 'lodash'\r\nimport querystring from 'querystring'\r\n\r\nexport default function fetchAPI (api, body, multipartFormData = false) {\r\n  let { url, method } = api\r\n  let config = {\r\n    headers: {\r\n      'Accept-Language': 'zh-CN',\r\n      'X-Requested-With': 'XMLHttpRequest',\r\n    },\r\n    credentials: 'include',\r\n    method,\r\n  }\r\n  if (_.isFunction(url)) {\r\n    const { $dept } = body\r\n    url = url($dept)\r\n    delete body.$dept\r\n  }\r\n  if (body && body.$rest) {\r\n    url = url + `/${body.$rest}`\r\n    delete body.$rest\r\n  }\r\n  if (method === 'GET') {\r\n    if (body) {\r\n      if (!_.isEmpty(body)) {\r\n        let params = _.isPlainObject(body) ? querystring.stringify(body) : body\r\n        url = url + `?${params}`\r\n      }\r\n    }\r\n  } else {\r\n    if (multipartFormData) {\r\n      const formData = new FormData()\r\n      for (let name in body) {\r\n        // stringify object by jican@bytedance.com\r\n        let value = _.isPlainObject(body[name]) ? JSON.stringify(body[name]) : body[name]\r\n        formData.append(name, value)\r\n      }\r\n      config.body = formData\r\n    } else {\r\n      config.headers['Content-Type'] = 'application/json'\r\n      config.body = JSON.stringify(body)\r\n    }\r\n  }\r\n  return fetch.request(url, config)\r\n}\r\n","export default {\r\n  getUserTest: {\r\n    url: '/back_end/users/test',\r\n    method: 'GET',\r\n  },\r\n  login: {\r\n    url: '/back_end/users/login',\r\n    method: 'POST',\r\n  },\r\n  signup: {\r\n    url: '/back_end/users/signup',\r\n    method: 'POST',\r\n  },\r\n  getUser: {\r\n    url: '/back_end/users/get',\r\n    method: 'GET',\r\n  },\r\n  logout: {\r\n    url: '/back_end/users/logout',\r\n    method: 'POST',\r\n  },\r\n  changeUser: {\r\n    url: '/back_end/users/change',\r\n    method: 'POST',\r\n  },\r\n  changePwd: {\r\n    url: '/back_end/users/change_pwd',\r\n    method: 'POST',\r\n  },\r\n  check: {\r\n    url: '/back_end/users/check',\r\n    method: 'POST',\r\n  },\r\n  getAllUsers: {\r\n    url: '/back_end/users/get/all',\r\n    method: 'GET',\r\n  },\r\n  deleteUser: {\r\n    url: '/back_end/users/delete',\r\n    method: 'POST'\r\n  },\r\n  getArticleTypes: {\r\n    url: '/back_end/article/type',\r\n    method: 'GET',\r\n  },\r\n  addArticleType: {\r\n    url: '/back_end/article/type/add',\r\n    method: 'POST',\r\n  },\r\n  getArticles: {\r\n    url: '/back_end/article/all',\r\n    method: 'GET'\r\n  },\r\n  getArticleDetail: {\r\n    url: '/back_end/article/detail',\r\n    method: 'GET'\r\n  },\r\n  getUploadToken: {\r\n    url: '/back_end/article/upload_token',\r\n    method: 'GET'\r\n  },\r\n  createArticle: {\r\n    url: '/back_end/article/add',\r\n    method: 'POST'\r\n  },\r\n  updateArticle: {\r\n    url: '/back_end/article/change',\r\n    method: 'POST'\r\n  },\r\n  deleteArticle: {\r\n    url: '/back_end/article/delete',\r\n    method: 'POST'\r\n  },\r\n  focusArticle: {\r\n    url: '/back_end/article/focus',\r\n    method: 'POST'\r\n  },\r\n  unfocusArticle: {\r\n    url: '/back_end/article/unfocus',\r\n    method: 'POST'\r\n  },\r\n  getFocusList: {\r\n    url: '/back_end/article/focus_list',\r\n    method: 'GET'\r\n  }\r\n}","const BaseMenu = [{\r\n  title: '科技文献查询',\r\n  icon: 'search',\r\n  key: 'search',\r\n}, {\r\n  title: '个人中心',\r\n  icon: 'user',\r\n  key: 'self',\r\n}]\r\nconst AdminMenu = [{\r\n  title: '科技文献查询',\r\n  icon: 'search',\r\n  key: 'search',\r\n}, {\r\n  title: '科技文献管理',\r\n  icon: 'edit',\r\n  key: 'manager/article',\r\n}, {\r\n  title: '用户管理',\r\n  icon: 'user',\r\n  key: 'manager/user',\r\n}]\r\nexport default isAdmin => isAdmin ? AdminMenu : BaseMenu","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport fetchAPI from '../../fetch';\r\nimport apis from '../../api';\r\nimport { message, Modal } from 'antd';\r\nimport './logout.less';\r\n\r\nexport default class Logout extends Component {\r\n  static propTypes = {\r\n    router: PropTypes.object,\r\n    user: PropTypes.object\r\n  }\r\n  handleLogout = async () => {\r\n    try {\r\n      await fetchAPI(apis.logout)\r\n      message.success('退出登录成功')\r\n      this.props.router.replace('/login')\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  render() {\r\n    const { user={} } = this.props\r\n    return (\r\n      <span>\r\n        <span className='welcome'>你好，{user.user_name}</span>\r\n        <span className='logout' onClick={() => {\r\n          const modal = Modal.confirm({\r\n            content: '确认要退出登录吗？',\r\n            onCancel: () => modal.destroy(),\r\n            onOk: () => this.handleLogout()\r\n          })\r\n        }}>\r\n          退出登录\r\n        </span>\r\n      </span>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Menu, Layout, Icon } from 'antd'\r\nimport getMenu from './conf'\r\nimport Logout from '../Logout'\r\nimport './CommonMenu.less'\r\n\r\nconst  { Header } = Layout\r\n\r\nexport default class CommonMenu extends Component {\r\n  static propTypes = {\r\n    user: PropTypes.object,\r\n    path: PropTypes.string,\r\n    router: PropTypes.object\r\n  }\r\n  handleClickMenu = ({ keyPath }) => {\r\n    this.props.path !== keyPath && this.props.router.replace(keyPath[0])\r\n  }\r\n  render() {\r\n    const { user, path, router } = this.props\r\n    const isLogin = !!Object.keys(user || {}).length\r\n    return (\r\n      <Header className='common-header'>\r\n        <div className=\"logo\">\r\n          <img src=\"https://s2.ax1x.com/2019/04/17/AzNZvT.png\" alt=\"AzNZvT.png\" border=\"0\" />\r\n          <div>科技文献管理系统</div>\r\n        </div>\r\n        <Menu\r\n          theme=\"dark\"\r\n          mode=\"horizontal\"\r\n          defaultSelectedKeys={[path]}\r\n          style={{ lineHeight: '64px' }}\r\n        >\r\n          {\r\n            isLogin && getMenu(user.is_admin).map(item => <Menu.Item onClick={this.handleClickMenu} key={item.key}>\r\n              <Icon type={item.icon} />{item.title}\r\n            </Menu.Item>)\r\n          }\r\n        </Menu>\r\n        <div className='log-info'>\r\n          {isLogin && <Logout router={router} user={user} />}\r\n        </div>\r\n      </Header>\r\n    )\r\n  }\r\n}\r\n","import CommonMenu from './CommonMenu'\r\nexport default CommonMenu","import React, { Component } from 'react'\r\nimport { Layout, LocaleProvider, message } from 'antd'\r\nimport PropTypes from 'prop-types'\r\nimport fetchAPI from '../../fetch';\r\nimport apis from '../../api'\r\n// import HeaderCustom from '../Header'\r\n\r\nimport './CoreLayout.less'\r\nimport 'ant-design-pro/dist/ant-design-pro.css'\r\nimport 'antd/dist/antd.less'\r\n\r\nimport 'moment/locale/zh-cn'\r\nimport locale from 'antd/lib/locale-provider/zh_CN'\r\nimport CommonMenu from '../../components/CommonMenu';\r\n\r\nconst { Content } = Layout\r\n\r\n// const user = {\r\n//   name: 'zxj',\r\n//   id: '2150165',\r\n//   mail: 'employeeMail',\r\n// }\r\nconst specialPaths = ['signup', 'forget']\r\n\r\nclass CoreLayout extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      collapsed: false,\r\n      reRenderHash: null,\r\n      user: {}\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.location.pathname === '/') {\r\n      this.props.router.replace('search')\r\n    }\r\n    this.fetchUserInfo()\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    console.log(nextProps.location.pathname);\r\n    if (!specialPaths.includes(nextProps.location.pathname)) {\r\n      this.fetchUserInfo()\r\n    }\r\n  }\r\n  fetchUserInfo = async () => {\r\n    try {\r\n      const user = await fetchAPI(apis.getUser)\r\n      this.setState({ user: user || {} })\r\n      if (!user && this.props.location.pathname !== 'login') {\r\n        message.error('登录过期，请重新登录')\r\n        this.props.router.replace('/login')\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  routerPush = url => {\r\n    const { router } = this.props\r\n    router.push({\r\n      pathname: url,\r\n    })\r\n  }\r\n\r\n  get backgroundImg () {\r\n    return <div className='pmt-back-img' />\r\n  }\r\n\r\n  render () {\r\n    const {\r\n      router,\r\n      location,\r\n      children,\r\n    } = this.props\r\n    return (\r\n      <LocaleProvider locale={locale}>\r\n        <Layout className='ant-layout-has-sider'>\r\n\r\n          <CommonMenu router={router} user={this.state.user} path={location.pathname} />\r\n            <Content\r\n              className='custom-content'\r\n            >\r\n              <div className='ant-layout-container'>\r\n                {!children ? this.backgroundImg : React.cloneElement(children, { user: this.state.user })}\r\n              </div>\r\n            </Content>\r\n        </Layout>\r\n      </LocaleProvider>\r\n    )\r\n  }\r\n}\r\n\r\nCoreLayout.contextTypes = {\r\n  router: PropTypes.object.isRequired,\r\n}\r\n\r\nCoreLayout.defaultPropTypes = {\r\n  children: <div>首页</div>,\r\n}\r\n\r\nCoreLayout.propTypes = {\r\n  location: PropTypes.object.isRequired,\r\n  router: PropTypes.object.isRequired,\r\n  children: PropTypes.element,\r\n}\r\n\r\nexport default CoreLayout\r\n","import CoreLayout from './CoreLayout'\r\n\r\nexport default CoreLayout\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Lg from 'ant-design-pro/lib/Login'\r\nimport { Card, message, Button, Icon } from 'antd'\r\nimport fetchAPI from '../../fetch'\r\nimport apis from '../../api'\r\nimport './Login.less'\r\n\r\nconst { UserName, Password, Tab, Submit } = Lg\r\n/* eslint-disable */\r\nexport default class Login extends Component {\r\n  static propTypes = {\r\n    router: PropTypes.object\r\n  }\r\n  state = {\r\n    tab: 'common',\r\n  }\r\n  handleSubmit = async (err, value) => {\r\n    if (err) {\r\n      message.error('还有未填写完整的必填字段，请填写完成后重试')\r\n      return\r\n    }\r\n    try {\r\n      await fetchAPI(apis.login, { ...value, is_admin: this.state.tab === 'admin' ? 1 : 0 })\r\n      message.success('登录成功')\r\n      this.props.router.replace('/search')\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Card className='login'>\r\n        <div className='login-title'>欢迎使用科技文献管理系统</div>\r\n        <Lg defaultActiveKey='common' onTabChange={tab => this.setState({ tab })} onSubmit={this.handleSubmit}>\r\n          <Tab key='common' tab='普通用户登录' />\r\n          <Tab key='admin' tab='管理员登录' />\r\n          <UserName placeholder='请输入用户名' name='user_name' />\r\n          <Password placeholder='请输入密码' name='user_pwd' />\r\n          <div className='login-extra'>\r\n            <a onClick={() => this.props.router.replace('/forget')}><Icon type=\"question-circle\" /> 忘记密码</a>\r\n            <a onClick={() => this.props.router.replace('/signup')}><Icon type=\"user\" /> 新用户注册</a>\r\n          </div>\r\n          <Submit>登录</Submit>\r\n        </Lg>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","import Login from './Login'\r\nexport default {\r\n  path: 'login',\r\n  component: Login\r\n}","export default {\r\n  username: /[\\u4e00-\\u9fa5_a-zA-Z0-9_]{2,16}/,\r\n  password: /^.*(?=.{6,10})(?=.*\\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/,\r\n  email: /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,\r\n  phone: /^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\\d{8}$/\r\n}","import React from 'react';\r\nimport { Input } from \"antd\";\r\nimport patterns from '../../constants/patterns';\r\nexport const FORM_CONF = [{\r\n  label: '用户名',\r\n  key: 'user_name',\r\n  component: <Input placeholder='建议使用本人真实姓名或常用中文昵称' />,\r\n  rules: [\r\n    { required: true, message: '用户名是必填字段' },\r\n    { pattern: patterns.username, message: '请输入合法用户名' }\r\n  ]\r\n}, {\r\n  label: '密码',\r\n  key: 'user_pwd',\r\n  component: <Input.Password placeholder='6位以上的数字、大写字母、小写字母、特殊符号的组合' />,\r\n  rules: [\r\n    { required: true, message: '密码是必填字段' },\r\n    { pattern: patterns.password, message: '请输入合法密码' }\r\n  ]\r\n}, {\r\n  label: '确认密码',\r\n  key: 'user_pwd_again',\r\n  component: <Input.Password placeholder='请再次输入密码' />,\r\n  rules: [\r\n    { required: true, message: '确认密码是必填字段' },\r\n    { pattern: patterns.password, message: '请输入合法密码' }\r\n  ]\r\n}, {\r\n  label: '电子邮箱',\r\n  key: 'user_email',\r\n  component: <Input placeholder='请输入电子邮箱' />,\r\n  rules: [\r\n    { pattern: patterns.email, message: '请输入合法邮箱' }\r\n  ]\r\n}, {\r\n  label: '手机号',\r\n  key: 'user_phone',\r\n  component: <Input placeholder='请输入手机号' />,\r\n  rules: [\r\n    { pattern: patterns.phone, message: '请输入合法手机号' }\r\n  ]\r\n}]\r\n\r\nexport const FORM_LAYOUT = {\r\n  labelCol: { span: 6 },\r\n  wrapperCol: { span: 14 }\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Card, Form, Button, message } from 'antd';\r\nimport { FORM_CONF, FORM_LAYOUT } from './conf';\r\nimport fetchAPI from '../../fetch'\r\nimport apis from '../../api'\r\nimport './Signup.less';\r\n\r\nclass Signup extends Component {\r\n  static propTypes = {\r\n    router: PropTypes.object,\r\n    form: PropTypes.object,\r\n  }\r\n  handleSubmit = () => {\r\n    this.props.form.validateFields(async (err, values) => {\r\n      if (err) {\r\n        message.error('注册信息填写不完整，请检查后再提交')\r\n        return\r\n      }\r\n      if (values.user_pwd !== values.user_pwd_again) {\r\n        message.error('密码确认有误，请检查后再提交')\r\n        return\r\n      }\r\n      try {\r\n        delete values.user_pwd_again\r\n        await fetchAPI(apis.signup, values)\r\n        message.success('注册成功，请登录')\r\n        this.props.router.replace('/login')\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Card className='signup'>\r\n        <div className='signup-title'>用户注册</div>\r\n        <Form layout='horizontal'>\r\n          {\r\n            FORM_CONF.map(item => <Form.Item {...FORM_LAYOUT} key={item.key} label={item.label}>\r\n                {getFieldDecorator(item.key, { rules: item.rules })(item.component)}\r\n              </Form.Item>)\r\n          }\r\n          <div className='signup-btn-group'>\r\n            <Button type='primary' onClick={this.handleSubmit}>提交</Button>\r\n            <Button onClick={() => this.props.router.replace('/login')}>返回登录</Button>\r\n          </div>\r\n        </Form>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Form.create()(Signup)\r\n","import Signup from './Signup'\r\n\r\nexport default {\r\n  path: 'signup',\r\n  component: Signup\r\n}","import React from 'react'\r\nimport Ellipsis from 'ant-design-pro/lib/Ellipsis'\r\nexport const COLUMNS = [\r\n  {\r\n    title: '科技文献名称',\r\n    width: 150,\r\n    key: 'article_title',\r\n    dataIndex: 'article_title',\r\n  },\r\n  {\r\n    title: '科技文献作者',\r\n    width: 150,\r\n    key: 'article_author',\r\n    dataIndex: 'article_author',\r\n  },\r\n  {\r\n    title: '科技文献类型',\r\n    width: 150,\r\n    key: 'article_type_name',\r\n    dataIndex: 'article_type_name',\r\n  },\r\n  {\r\n    title: '科技文献描述',\r\n    width: 150,\r\n    key: 'article_desc',\r\n    dataIndex: 'article_desc',\r\n    render: text => <Ellipsis lines={1} tooltip>{text}</Ellipsis>\r\n  },\r\n  {\r\n    title: '创建时间',\r\n    width: 150,\r\n    key: 'created_at',\r\n    dataIndex: 'created_at',\r\n  },\r\n  {\r\n    title: '更新时间',\r\n    width: 150,\r\n    key: 'updated_at',\r\n    dataIndex: 'updated_at',\r\n  },\r\n]\r\n\r\nexport const INFO_CONF = {\r\n  article_author: {\r\n    label: '文献作者',\r\n    col: 12,\r\n  },\r\n  article_type_name: {\r\n    label: '文献类别',\r\n    col: 12,\r\n  },\r\n  created_at: {\r\n    label: '创建时间',\r\n    col: 12,\r\n  },\r\n  updated_at: {\r\n    label: '更新时间',\r\n    col: 12,\r\n  },\r\n  article_desc: {\r\n    label: '文献描述',\r\n    col: 24,\r\n  }\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Select } from 'antd';\r\nimport fetchAPI from '../../fetch';\r\nimport apis from '../../api';\r\n\r\nexport default class ArticleTypeSelect extends Component {\r\n  static propTypes = {\r\n    onChange: PropTypes.func,\r\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n  }\r\n  state = {\r\n    list: []\r\n  }\r\n  componentDidMount() {\r\n    this.fetchTypes()\r\n  }\r\n  fetchTypes = async () => {\r\n    try {\r\n      const list = await fetchAPI(apis.getArticleTypes)\r\n      this.setState({ list })\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  render() {\r\n    const { list } = this.state\r\n    console.log(this.props);\r\n    return (\r\n      <Select {...this.props}>\r\n        {\r\n          list.map(item => <Select.Option key={item.id} value={item.id}>{item.name}</Select.Option>)\r\n        }\r\n      </Select>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Trend from 'ant-design-pro/lib/Trend'\r\nimport numeral from 'numeral'\r\nimport _ from 'lodash'\r\n\r\nclass NumberInfo extends React.Component {\r\n  render() {\r\n    const { infoData, trend, color, data, dataKey, formatRule, percentage, addonAfter } = this.props\r\n    const colorConf = { style: { color: color || '' } }\r\n    const display = (child) => trend\r\n      ? (<Trend {...colorConf} flag={trend} >{child}</Trend>)\r\n      : (<span {...colorConf}>{child}</span>)\r\n    return display(\r\n      <React.Fragment>\r\n       {numeral(data || _.get(infoData, dataKey) || 0).format(formatRule)}\r\n       {addonAfter || percentage && '%'}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nNumberInfo.propTypes = {\r\n  // 传入的数据（单独使用组件时要与dataKey一起使用）\r\n  infoData: PropTypes.object,\r\n\r\n  // 在传入数据中寻找的key\r\n  dataKey: PropTypes.string,\r\n\r\n  // 具体数据\r\n  data: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n\r\n  // 数字颜色\r\n  color: PropTypes.string,\r\n\r\n  // 趋势标志\r\n  trend: PropTypes.oneOf(['up', 'down']),\r\n\r\n  // 格式化规则\r\n  formatRule: PropTypes.string,\r\n\r\n  // 是否需要百分号\r\n  percentage: PropTypes.bool,\r\n\r\n  // 自定义单位\r\n  addonAfter: PropTypes.string\r\n}\r\n\r\nNumberInfo.defaultProps = {\r\n  formatRule: '0,0.00',\r\n  percentage: false\r\n}\r\n\r\nexport default NumberInfo\r\n","import NumberInfo from './NumberInfo'\r\nexport default NumberInfo\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { Row, Col, Tooltip, Card } from 'antd'\r\nimport NumberInfo from '../NumberInfo'\r\nimport Ellipsis from 'ant-design-pro/lib/Ellipsis'\r\n// import {\r\n//   renderMap\r\n// } from '../utils'\r\n\r\nimport _ from 'lodash'\r\n\r\nimport './infoBlock.less'\r\n\r\nconst SPECIAL_NODES = [ 'table' ]\r\n\r\nclass InfoBlock extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      colLayout: 12,\r\n      loading: false,\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    const { loading, needResponsiveLayout } = this.props\r\n    this.setState({ loading })\r\n    needResponsiveLayout && (this._observer = this.getMutationObserver(this.handleMutation, 20))\r\n  }\r\n  componentWillReceiveProps (nextProps) {\r\n    this.props.loading !== nextProps.loading && this.setState({ loading: nextProps.loading })\r\n  }\r\n  componentDidUpdate (prevProps) {\r\n    const { infoData, containerSelector, needResponsiveLayout } = this.props\r\n    if (!_.isEqual(prevProps.infoData, infoData)) {\r\n      this.handleLongItem()\r\n    }\r\n    if (needResponsiveLayout) {\r\n      const _dom = document.querySelector(containerSelector)\r\n      _dom && this._observer.observe(_dom, { 'attributes': true })\r\n    }\r\n  }\r\n  getColLayout = width => {\r\n    const { xs, sm, lg, xl } = this.props.layout\r\n    let colLayout\r\n    if (width <= 570) {\r\n      colLayout = xs || 12\r\n    } else if (width <= 800) {\r\n      colLayout = sm || xs\r\n    } else if (width <= 1200) {\r\n      colLayout = lg || sm || xs\r\n    } else {\r\n      colLayout = xl || lg || sm || xs\r\n    }\r\n    return colLayout\r\n  }\r\n  handleMutation = mutations => {\r\n    const { colLayout } = this.state\r\n    const currentWidth = mutations[0].target.offsetWidth\r\n    const newColLayout = this.getColLayout(currentWidth)\r\n    colLayout !== newColLayout && this.setState({ colLayout: newColLayout })\r\n  }\r\n  /**\r\n   * 获取MutationObserver示例，绑定回调方法和防抖函数\r\n   * @param {Function} func Mutation处理函数\r\n   * @param {Number} delay 防抖延迟时间（ms）\r\n   * @returns {Object} MutationObserver实例\r\n   */\r\n  getMutationObserver = (func, delay) => {\r\n    // 由于浏览器对MutationObserver的构造方法支持存在断层，这里支持了不同浏览器的前缀\r\n    const Observer = window.MutationObserver ||\r\n      window.WebKitMutationObserver ||\r\n      window.MozMutationObserver\r\n    return new Observer(_.debounce(func, delay, { 'leading': true }))\r\n  }\r\n  handleLongItem = () => {\r\n    let span = document.createElement('span')\r\n    span.style.visibility = 'hidden' // 不显示\r\n    span.style.display = 'inline-block'\r\n    document.body.appendChild(span) // 把标签插入文档\r\n    const domArray = document.querySelectorAll('div.antx-info-block')\r\n    _.forEach(domArray, val => {\r\n      const labelClasses = _.get(val, 'firstChild.firstChild.firstChild.classList') || []\r\n       // 获取label节点的类\r\n      const hasLabel = _.includes(labelClasses, 'antx-item-label')\r\n      const hasCol = _.includes(labelClasses, 'antx-item-with-col')\r\n      const hasCalculated = _.includes(labelClasses, 'antx-info-calculated')\r\n      if (hasLabel && !hasCalculated && !hasCol) { // 只有有label且没有计算过的时候才控制宽度, 避免重复计算\r\n        val.firstChild.firstChild.firstChild.className += ' antx-info-calculated'\r\n        span.innerHTML = val.innerHTML // 插入业务方渲染的节点\r\n        const singleWidth = span.offsetWidth // 需要渲染的节点宽度\r\n        const currentColLayout = this.getColLayout(val.offsetWidth)\r\n        // 本应占有的宽度\r\n        const currentWidth = currentColLayout / 24 * val.offsetWidth\r\n        if (currentWidth < singleWidth) {\r\n          let width = 2 * (currentColLayout / 24 * 100)\r\n          width = width > 100 ? 100 : width\r\n          val.style.width = width + '%'\r\n        }\r\n      }\r\n    })\r\n    span.parentNode.removeChild(span) // 全部计算完成后卸载dom\r\n  }\r\n  getCurrentInfo = (conf, key, isChange) => {\r\n    const { infoData, changeData } = this.props\r\n    if (isChange && !Object.keys(changeData).length) {\r\n      return\r\n    }\r\n    const { render, dataKey } = conf\r\n    const renderKey = dataKey || key\r\n    const currentData = _.get(isChange ? changeData : infoData, renderKey)\r\n    // if (expandRender && _.isString(render)) {\r\n    //   const [type, params] = render.split(':')\r\n    //   return renderMap[type](params)(currentData)\r\n    // }\r\n    if (!currentData && isChange) {\r\n      return\r\n    }\r\n    return render\r\n      ? (_.isString(render)\r\n        ? this.handleRender(conf, render, renderKey, infoData)\r\n        : render(currentData, infoData))\r\n      : (currentData || '--')\r\n  }\r\n  handleRender = (conf, renderType, dataKey, infoData) => {\r\n    const renderMap = new Map([\r\n      ['number', <NumberInfo infoData={infoData} dataKey={dataKey} {...conf.customOptions} />],\r\n    ])\r\n    const neededRenderComponent = renderMap.get(renderType)\r\n    if (!neededRenderComponent) {\r\n      throw new TypeError(`[InfoBlock Error]'${renderType}' can not be configured as \r\n      render: '${renderType}', you may need a render function, please check your configuration!`)\r\n    }\r\n    return neededRenderComponent\r\n  }\r\n\r\n  render () {\r\n    const { colLayout, loading } = this.state\r\n    const { config, layout, needResponsiveLayout, expandRender, changeData } = this.props\r\n    return (\r\n      <Card loading={loading} bordered={false} className='antx-info-block-card' size={60}>\r\n        <Row>\r\n          { Object.keys(config).map(key => {\r\n            const { isLongItem, withoutLabel, col, hasAuth, render, label } = config[key]\r\n            const isSpecialNode = _.includes(SPECIAL_NODES, render)\r\n            const labelClass = col ? 'antx-item-label antx-item-with-col' : 'antx-item-label'\r\n            // 自适应优先级： specialNode > 单独配置col > 统一配置的自适应方案\r\n            const currentLayout = isSpecialNode\r\n              ? { span: 24 }\r\n              : col\r\n                ? { span: col }\r\n                : needResponsiveLayout\r\n                  ? { span: colLayout }\r\n                  : layout\r\n            const renderResult = this.getCurrentInfo(config[key], key)\r\n            const renderChangeResult = this.getCurrentInfo(config[key], key, true)\r\n            const needRenderChangedData = !withoutLabel &&\r\n              !isSpecialNode && renderChangeResult &&\r\n              renderChangeResult !== '--'\r\n            if ((!_.isUndefined(hasAuth) && !hasAuth) || _.isUndefined(renderResult)) {\r\n              return\r\n            }\r\n            return (<Col\r\n              {...currentLayout}\r\n              style={{ minHeight: 35, lineHeight: '35px' }}\r\n              className='antx-info-block'\r\n              key={key}>\r\n              {\r\n                isLongItem && !expandRender\r\n                  ? <Tooltip title={renderResult} autoAdjustOverflow>\r\n                      <Ellipsis lines={1}>\r\n                        {(!withoutLabel && !isSpecialNode) && <span className={labelClass}>{label}: </span>}\r\n                        {renderResult}\r\n                      </Ellipsis>\r\n                    </Tooltip>\r\n                  : <div className='expand-render'>\r\n                      <div className='base-detail'>\r\n                        {(!withoutLabel && !isSpecialNode) && \r\n                          <span className={labelClass}>{label}: </span>\r\n                        }\r\n                        <span className='expand-value'>{renderResult}</span>\r\n                      </div>\r\n                      {needRenderChangedData && <div className='antx-change-info'>\r\n                          <span className='antx-item-label'>变更为: </span>\r\n                          <span className='expand-value'>{renderChangeResult}</span>\r\n                        </div>}\r\n                    </div>\r\n              }\r\n            </Col>)\r\n          }) }\r\n        </Row>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nInfoBlock.propTypes = {\r\n  // 后端返回的数据（手动传入）\r\n  infoData: PropTypes.object,\r\n\r\n  // 详情配置\r\n  config: PropTypes.object,\r\n\r\n  // 是否使用MutationObserver进行自适应（是否在抽屉里）\r\n  needResponsiveLayout: PropTypes.bool,\r\n\r\n  // 自适应配置\r\n  layout: PropTypes.object,\r\n\r\n  // 正在加载\r\n  loading: PropTypes.bool,\r\n\r\n  // needResponsiveLayout为true时作为容器的节点选择器\r\n  containerSelector: PropTypes.string,\r\n\r\n  // 是否扩展 render，如 true 则 api 与 table 的render 保持一致\r\n  expandRender: PropTypes.bool,\r\n\r\n  // 变更后数据\r\n  changeData: PropTypes.object,\r\n}\r\nInfoBlock.defaultProps = {\r\n  layout: { xs: 24, sm: 12, lg: 8, xl: 6 },\r\n  loading: false,\r\n  infoData: {},\r\n  containerSelector: 'div.folding-board',\r\n  expandRender: false,\r\n  changeData: {},\r\n}\r\n\r\nexport default InfoBlock\r\n","import InfoBlock from './InfoBlock'\r\nexport default InfoBlock\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Drawer } from 'antd'\r\nimport PageHeader from 'ant-design-pro/lib/PageHeader';\r\nimport fetchAPI from '../../fetch';\r\nimport api from '../../api';\r\nimport InfoBlock from '../../components/InfoBlock';\r\nimport { INFO_CONF } from './conf';\r\n\r\nexport default class ArticleDetail extends Component {\r\n  static propTypes = {\r\n    id: PropTypes.number,\r\n    visible: PropTypes.bool,\r\n    handleClose: PropTypes.func\r\n  }\r\n  state = {\r\n    data: {},\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.props.id !== nextProps.id && this.fetchDetail(nextProps.id)\r\n  }\r\n  \r\n  fetchDetail = async id => {\r\n    try {\r\n      const data = await fetchAPI(api.getArticleDetail, { id })\r\n      this.setState({ data })\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  render() {\r\n    const { data } = this.state\r\n    return (\r\n      <Drawer destroyOnClose placement='left' width={1000} title='科技文献详情' visible={this.props.visible} onClose={this.props.handleClose}>\r\n        <PageHeader\r\n          title={data.article_title || '--'}\r\n          logo={<img src='http://pq5i8yb7b.bkt.clouddn.com/page.png' alt='icon' />}\r\n          content={<InfoBlock infoData={data} config={INFO_CONF} />}\r\n        />\r\n        <iframe title={data.article_title} style={{ width: '100%' }} src={data.article_url} width={1000} height={620} />\r\n      </Drawer>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Card, Row, Col, Input, Button, Table, message } from 'antd';\r\nimport { COLUMNS } from './conf';\r\nimport fetchAPI from '../../fetch';\r\nimport api from '../../api'\r\nimport './Search.less'\r\nimport ArticleTypeSelect from '../../components/ArticleTypeSelect';\r\nimport ArticleDetail from './ArticleDetail';\r\n/* eslint-disable */\r\nclass Search extends Component {\r\n  static propTypes = {\r\n    form: PropTypes.object,\r\n    router: PropTypes.object,\r\n    user: PropTypes.object\r\n  }\r\n  state = {\r\n    data: [],\r\n    detailVisible: false\r\n  }\r\n  get columns () {\r\n    const { user } = this.props\r\n    const operation = {\r\n      title: '操作',\r\n      key: 'operation',\r\n      dataIndex: 'id',\r\n      width: 100,\r\n      render: (text, record) => {\r\n        const isFocused = record.focus_people && JSON.parse(record.focus_people).includes(String(user.id))\r\n        return <span>\r\n          <span className='logout' onClick={() => {\r\n            this.setState({ articleId: text, detailVisible: true })\r\n          }}>详情</span>\r\n          {!user.is_admin && (!isFocused\r\n            ? <span className='logout' onClick={() => this.handleFocus(text, true)}>关注</span>\r\n            : <span className='logout-danger' onClick={() => this.handleFocus(text, false)}>取消关注</span>)}\r\n        </span>\r\n      }\r\n    }\r\n    return [...COLUMNS, operation]\r\n  }\r\n  componentDidMount() {\r\n    this.fetchArticles()\r\n  }\r\n  fetchArticles = async (params={}) => {\r\n    try {\r\n      this.setState({ loading: true })\r\n      const list = await fetchAPI(api.getArticles, params)\r\n      this.setState({ loading: false, data: list })\r\n    } catch (error) {\r\n      this.setState({ loading: false })\r\n    }\r\n  }\r\n  handleFocus = async (id, isFocus) => {\r\n    try {\r\n      await fetchAPI(isFocus ? api.focusArticle : api.unfocusArticle, { id })\r\n      message.success(`${isFocus ? '' : '取消'}关注成功`)\r\n      this.fetchArticles()\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  handleSearch = () => {\r\n    const params = this.props.form.getFieldsValue()\r\n    for (const key in params) {\r\n      if (!params[key]) {\r\n        delete params[key]\r\n      }\r\n    }\r\n    this.fetchArticles(params)\r\n  }\r\n  render() {\r\n    const { getFieldDecorator, resetFields } = this.props.form\r\n    const { data, loading, detailVisible, articleId } = this.state\r\n    return (\r\n      <div className='search'>\r\n        <Card>\r\n          <Form layout='horizontal'>\r\n            <Row>\r\n              <Col span={8}>\r\n                <Form.Item label='科技文献名称' labelCol={{ span: 6 }} wrapperCol={{ span: 14 }}>\r\n                  {getFieldDecorator('article_title')(\r\n                    <Input placeholder='请输入科技文献名称' />\r\n                  )}\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item label='科技文献作者' labelCol={{ span: 6 }} wrapperCol={{ span: 14 }}>\r\n                  {getFieldDecorator('article_author')(\r\n                    <Input placeholder='请输入科技文献作者名称' />\r\n                  )}\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item label='科技文献类型' labelCol={{ span: 6 }} wrapperCol={{ span: 14 }}>\r\n                  {getFieldDecorator('article_type')(\r\n                    <ArticleTypeSelect placeholder='请选择科技文献类型' />\r\n                  )}\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n          <div style={{ textAlign: 'right' }}>\r\n            <Button style={{ marginRight: 10 }} icon='search' type='primary' onClick={this.handleSearch}>查询</Button>\r\n            <Button icon='rollback' type='danger' onClick={() => {\r\n              resetFields()\r\n              this.fetchArticles()\r\n            }}>重置</Button>\r\n          </div>\r\n        </Card>\r\n        <Card>\r\n          <Table loading={loading} rowKey='id' columns={this.columns} dataSource={data} />\r\n        </Card>\r\n        <ArticleDetail id={articleId} visible={detailVisible} handleClose={() => this.setState({ detailVisible: false })} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Form.create()(Search)\r\n","import Search from './Search'\r\n\r\nexport default {\r\n  path: 'search',\r\n  component: Search\r\n}","export default {\r\n  user_name: {\r\n    label: '用户名',\r\n  },\r\n  user_phone: {\r\n    label: '手机号',\r\n  },\r\n  user_email: {\r\n    label: '电子邮箱',\r\n  }\r\n}","import React from 'react';\r\nimport { Input } from \"antd\";\r\nimport patterns from '../../constants/patterns';\r\n\r\nexport const FORM_CONF = isAdmin => [{\r\n  label: '用户名',\r\n  key: 'user_name',\r\n  component: <Input disabled={!isAdmin} placeholder='建议使用本人真实姓名或常用中文昵称' />,\r\n  rules: [\r\n    { required: true, message: '用户名是必填字段' },\r\n    { pattern: patterns.username, message: '请输入合法用户名' }\r\n  ]\r\n}, {\r\n  label: '电子邮箱',\r\n  key: 'user_email',\r\n  component: <Input placeholder='请输入电子邮箱' />,\r\n  rules: [\r\n    { pattern: patterns.email, message: '请输入合法邮箱' }\r\n  ]\r\n}, {\r\n  label: '手机号',\r\n  key: 'user_phone',\r\n  component: <Input placeholder='请输入手机号' />,\r\n  rules: [\r\n    { pattern: patterns.phone, message: '请输入合法手机号' }\r\n  ]\r\n}]\r\n\r\nexport const FORM_LAYOUT = {\r\n  labelCol: { span: 6 },\r\n  wrapperCol: { span: 14 }\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Form, message } from 'antd';\r\nimport { FORM_CONF, FORM_LAYOUT } from './conf';\r\nimport fetchAPI from '../../fetch';\r\nimport apis from '../../api';\r\n\r\nclass UserInfoModal extends Component {\r\n  static propTypes = {\r\n    visible: PropTypes.bool,\r\n    user: PropTypes.object,\r\n    form: PropTypes.object,\r\n    onCancel: PropTypes.func,\r\n    isAdmin: PropTypes.bool,\r\n    afterSubmit: PropTypes.func,\r\n  }\r\n  handleSubmit = () => {\r\n    this.props.form.validateFields(async (err, vals) => {\r\n      if (err) {\r\n        message.error('信息填写不完整，请检查后再提交')\r\n        return\r\n      }\r\n      try {\r\n        await fetchAPI(apis.changeUser, { ...vals, id: this.props.user.id })\r\n        message.success('修改成功')\r\n        this.props.onCancel()\r\n        this.props.afterSubmit && this.props.afterSubmit()\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { visible, form, onCancel, user={}, isAdmin=false } = this.props\r\n    return (\r\n      <Modal title='修改信息' visible={visible} onOk={this.handleSubmit} onCancel={onCancel} destroyOnClose>\r\n        <Form layout='horizontal'>\r\n          {\r\n            FORM_CONF(isAdmin).map(item => <Form.Item {...FORM_LAYOUT} key={item.key} label={item.label}>\r\n                {form.getFieldDecorator(item.key, { rules: item.rules, initialValue: user[item.key] })(item.component)}\r\n              </Form.Item>)\r\n          }\r\n        </Form>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Form.create()(UserInfoModal)\r\n","import Self from './Self'\r\nexport default {\r\n  path: 'self',\r\n  component: Self,\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport PageHeader from 'ant-design-pro/lib/PageHeader';\r\nimport InfoBlock from '../../components/InfoBlock'\r\nimport InfoConf from './conf'\r\nimport { Card, Table, Button, message } from 'antd';\r\nimport { COLUMNS } from '../Search/conf';\r\nimport ArticleDetail from '../Search/ArticleDetail';\r\n\r\nimport '../Search/Search.less'\r\nimport UserInfoModal from '../../components/UserInfoModal';\r\nimport fetchAPI from '../../fetch';\r\nimport api from '../../api';\r\n\r\nexport default class Self extends Component {\r\n  static propTypes = {\r\n    router: PropTypes.object,\r\n    user: PropTypes.object,\r\n  }\r\n  state = {\r\n    visible: false,\r\n    data: [],\r\n    articleId: undefined,\r\n    detailVisible: false,\r\n    loading: false\r\n  }\r\n  get columns () {\r\n    const operation = {\r\n      title: '操作',\r\n      key: 'operation',\r\n      dataIndex: 'id',\r\n      width: 100,\r\n      render: (text, record) => {\r\n        return <span>\r\n          <span className='logout' onClick={() => {\r\n            this.setState({ articleId: text, detailVisible: true })\r\n          }}>详情</span>\r\n          <span className='logout-danger' onClick={() => this.handleUnfocus(text)}>取消关注</span>\r\n        </span>\r\n      }\r\n    }\r\n    return [...COLUMNS, operation]\r\n  }\r\n  componentDidMount() {\r\n    this.fetchFocusArticles()\r\n  }\r\n  handleUnfocus = async id => {\r\n    try {\r\n      await fetchAPI(api.unfocusArticle, { id })\r\n      message.success('取消关注成功')\r\n      this.fetchFocusArticles()\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  fetchFocusArticles = async () => {\r\n    try {\r\n      this.setState({ loading: true })\r\n      const list = await fetchAPI(api.getFocusList)\r\n      this.setState({ data: list, loading: false })\r\n    } catch (error) {\r\n      this.setState({ loading: false })\r\n      console.log(error);\r\n    }\r\n  }\r\n  render() {\r\n    const { data, visible, detailVisible, articleId, loading } = this.state\r\n    const { user } = this.props\r\n    return (\r\n      <div className='search'>\r\n        <PageHeader\r\n          title={<div>个人中心</div>}\r\n          content={<InfoBlock config={InfoConf} infoData={user} />}\r\n          action={<Button icon='edit' type='primary' onClick={() => this.setState({ visible: true })}>修改信息</Button>}\r\n        />\r\n        <Card title='我的关注'>\r\n          <Table loading={loading} rowKey='id' columns={this.columns} dataSource={data}  />\r\n        </Card>\r\n        <ArticleDetail id={articleId} visible={detailVisible} handleClose={() => this.setState({ detailVisible: false })} />\r\n        <UserInfoModal afterSubmit={() => window.location.reload()} visible={visible} user={user} onCancel={() => this.setState({ visible: false })} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","export const COLUMNS = [\r\n  {\r\n    title: '用户ID',\r\n    width: 150,\r\n    key: 'id',\r\n    dataIndex: 'id',\r\n  },\r\n  {\r\n    title: '用户名称',\r\n    width: 150,\r\n    key: 'user_name',\r\n    dataIndex: 'user_name',\r\n  },\r\n  {\r\n    title: '用户电话',\r\n    width: 150,\r\n    key: 'user_phone',\r\n    dataIndex: 'user_phone',\r\n  },\r\n  {\r\n    title: '用户邮箱',\r\n    width: 150,\r\n    key: 'user_email',\r\n    dataIndex: 'user_email',\r\n  },\r\n  {\r\n    title: '创建时间',\r\n    width: 150,\r\n    key: 'created_at',\r\n    dataIndex: 'created_at',\r\n  },\r\n  {\r\n    title: '更新时间',\r\n    width: 150,\r\n    key: 'updated_at',\r\n    dataIndex: 'updated_at',\r\n  },\r\n]","import UserManager from './UserManager';\r\nexport default {\r\n  path: 'manager/user',\r\n  components: UserManager,\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport UserInfoModal from '../../components/UserInfoModal';\r\nimport { Card, Table, Popconfirm, message } from 'antd'\r\nimport { COLUMNS } from './conf'\r\nimport '../Search/Search.less';\r\nimport fetchAPI from '../../fetch';\r\nimport apis from '../../api';\r\n\r\nexport default class UserManager extends Component {\r\n  static propTypes = {\r\n    user: PropTypes.object\r\n  }\r\n  state = {\r\n    data: [],\r\n    loading: false,\r\n    visible: false,\r\n    user: {}\r\n  }\r\n  get columns () {\r\n    return [...COLUMNS, {\r\n      title: '操作',\r\n      key: 'operation',\r\n      dataIndex: 'id',\r\n      width: 100,\r\n      render: (text, record) => {\r\n        return <span>\r\n          <span className='logout' onClick={() => this.setState({ user: record, visible: true })}>编辑</span>\r\n          <Popconfirm title='确认删除该用户吗？删除后数据将无法恢复！' onConfirm={() => this.handleDelete(text)}>\r\n            <span className='logout-danger'>删除</span>\r\n          </Popconfirm>\r\n        </span>\r\n      }\r\n    }]\r\n  }\r\n  componentDidMount() {\r\n    this.getList()\r\n  }\r\n  getList = async () => {\r\n    try {\r\n      this.setState({ loading: true })\r\n      const list = await fetchAPI(apis.getAllUsers)\r\n      this.setState({ loading: false, data: list })\r\n    } catch (error) {\r\n      this.setState({ loading: false })\r\n    }\r\n  }\r\n  handleDelete = async (id) => {\r\n    try {\r\n      await fetchAPI(apis.deleteUser, { id })\r\n      message.success('删除成功')\r\n      this.getList()\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  render() {\r\n    const { data, loading, visible, user } = this.state\r\n    return (\r\n      <div className='search'>\r\n        <Card title='用户列表'>\r\n          <Table loading={loading} rowKey='id' columns={this.columns} dataSource={data || []} />\r\n        </Card>\r\n        <UserInfoModal afterSubmit={this.getList} visible={visible} user={user} isAdmin onCancel={() => this.setState({ visible: false })}  />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Spin, Tag, message, Input, Divider, Button, Popconfirm, Empty } from 'antd';\r\nimport fetchAPI from '../../fetch';\r\nimport apis from '../../api';\r\n\r\nexport default class TagList extends Component {\r\n  static propTypes = {\r\n    prop: PropTypes\r\n  }\r\n  state = {\r\n    loading: false,\r\n    tags: [],\r\n    typeName: undefined,\r\n  }\r\n  componentDidMount() {\r\n    this.fetchTags()\r\n  }\r\n  fetchTags = async () => {\r\n    try {\r\n      this.setState({ loading: true })\r\n      const result = await fetchAPI(apis.getArticleTypes)\r\n      this.setState({ loading: false, tags: result })\r\n    } catch (error) {\r\n      this.setState({ loading: false })\r\n      console.log(error)\r\n    }\r\n  }\r\n  handleAdd = async () => {\r\n    try {\r\n      await fetchAPI(apis.addArticleType, { name: this.state.typeName })\r\n      message.success('添加成功')\r\n      this.setState({ typeName: undefined })\r\n      this.fetchTags()\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  render() {\r\n    const { loading, tags, typeName } = this.state\r\n    return (\r\n      <div className='tag-list'>\r\n        <Spin spinning={loading}>\r\n          <div className='tag-list-add'>\r\n            <Input placeholder='请填写文献类别名称' value={typeName} onChange={e => this.setState({ typeName: e.target.value })} />\r\n            <Popconfirm title='确认添加吗？' onConfirm={this.handleAdd}>\r\n              <Button type='primary' icon='plus'>添加</Button>\r\n            </Popconfirm>\r\n          </div>\r\n          <Divider />\r\n          <div>\r\n            {\r\n              tags.length ? tags.map(item => <Tag key={item.id} color='#108ee9'>{item.name}</Tag>) : <Empty />\r\n            }\r\n          </div>\r\n        </Spin>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Upload, Button } from 'antd';\r\nimport fetchAPI from '../../fetch';\r\nimport api from '../../api';\r\n\r\nexport default class ArticleUpload extends Component {\r\n  static propTypes = {\r\n    article: PropTypes.object\r\n  }\r\n  state = {\r\n    token: '',\r\n    canUpload: false,\r\n  }\r\n  componentDidMount() {\r\n    this.fetchToken()\r\n  }\r\n  fetchToken = async () => {\r\n    try {\r\n      const token = await fetchAPI(api.getUploadToken)\r\n      console.log(token);\r\n      this.setState({ token })\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  handleChange = ({ file, fileList }) => {\r\n    const hash = (file && file.response && file.response.hash) || ''\r\n    const url = `http://pq5i8yb7b.bkt.clouddn.com/${hash}`\r\n    this.setState({ canUpload: !!fileList.length })\r\n    this.props.onChange && this.props.onChange(fileList.length\r\n      ? { article_url: url, file_name: file.name }\r\n      : undefined\r\n    )\r\n  }\r\n  render() {\r\n    const { token, canUpload } = this.state\r\n    return (\r\n      <Upload\r\n        accept='.pdf'\r\n        action='http://upload-z1.qiniup.com'\r\n        data={{ upload_token: token, token, action: 'http://upload-z1.qiniup.com' }}\r\n        onChange={this.handleChange}\r\n        disabled={canUpload}\r\n      >\r\n        <Button disabled={canUpload} icon='upload'>上传文件</Button>\r\n      </Upload>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Input } from \"antd\";\r\nimport ArticleTypeSelect from '../../components/ArticleTypeSelect';\r\nimport ArticleUpload from '../../components/ArticleUpload';\r\nexport const FORM_CONF = (isEdit, article={}) => [{\r\n  label: '文献题目',\r\n  key: 'article_title',\r\n  component: <Input placeholder='请输入科技文献题目' />,\r\n  initialValue: article.article_title,\r\n  rules: [\r\n    { required: true, message: '文献题目是必填字段' },\r\n  ]\r\n}, {\r\n  label: '文献作者',\r\n  key: 'article_author',\r\n  component: <Input placeholder='请输入科技文献作者，多作者请用“/”分开' />,\r\n  initialValue: article.article_author,\r\n  rules: [\r\n    { required: true, message: '文献作者是必填字段' },\r\n  ]\r\n}, {\r\n  label: '文献类型',\r\n  key: 'article_type',\r\n  component: <ArticleTypeSelect placeholder='请选择科技文献类型' />,\r\n  initialValue: Number(article.article_type) || undefined,\r\n  rules: [\r\n    { required: true, message: '确认密码是必填字段' },\r\n  ]\r\n}, {\r\n  label: '文献描述',\r\n  key: 'article_desc',\r\n  component: <Input.TextArea placeholder='请填写文献描述' />,\r\n  initialValue: article.article_desc,\r\n}, {\r\n  label: '上传文献',\r\n  key: 'article_file',\r\n  cannotshow: isEdit,\r\n  component: <ArticleUpload />,\r\n  rules: [\r\n    { required: true, message: '请上传科技文献' }\r\n  ]\r\n}]\r\n\r\nexport const FORM_LAYOUT = {\r\n  labelCol: { span: 6 },\r\n  wrapperCol: { span: 14 }\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Modal, Form, message } from 'antd';\r\nimport { FORM_CONF, FORM_LAYOUT } from './conf'\r\nimport fetchAPI from '../../fetch';\r\nimport api from '../../api';\r\n\r\nclass ArticleModal extends Component {\r\n  static propTypes = {\r\n    isEdit: PropTypes.bool,\r\n    form: PropTypes.object,\r\n    visible: PropTypes.bool,\r\n    handleCancel: PropTypes.func,\r\n    afterCreate: PropTypes.func,\r\n  }\r\n  handleCreate = () => {\r\n    this.props.form.validateFields(async (err, vals) => {\r\n      if (err) {\r\n        message.error('还有未填写的必填字段，请检查后再提交')\r\n        return\r\n      }\r\n      const params = { ...vals, ...vals.article_file }\r\n      delete params.article_file\r\n      try {\r\n        await fetchAPI(api.createArticle, params)\r\n        message.success('创建成功')\r\n        this.props.handleCancel()\r\n        this.props.afterCreate()\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n  handleEdit = () => {\r\n    this.props.form.validateFields(async (err, vals) => {\r\n      if (err) {\r\n        message.error('还有未填写的必填字段，请检查后再提交')\r\n        return\r\n      }\r\n      const params = { ...this.props.article, ...vals }\r\n      delete params.created_at\r\n      delete params.updated_at\r\n      try {\r\n        await fetchAPI(api.updateArticle, params)\r\n        message.success('修改成功')\r\n        this.props.handleCancel()\r\n        this.props.afterCreate()\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { isEdit, form: { getFieldDecorator }, article, visible } = this.props\r\n    return (\r\n      <Modal visible={visible} title={`${isEdit ? '编辑' : '新建'}科技文献`} destroyOnClose onOk={isEdit ? this.handleEdit : this.handleCreate} onCancel={this.props.handleCancel}>\r\n        <Form layout='horizontal'>\r\n          {\r\n            FORM_CONF(isEdit, article).map(item => !item.cannotshow && <Form.Item {...FORM_LAYOUT} key={item.key} label={item.label}>\r\n                {getFieldDecorator(item.key, { rules: item.rules, initialValue: item.initialValue })(item.component)}\r\n              </Form.Item>)\r\n          }\r\n        </Form>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\nexport default Form.create()(ArticleModal)","import ArticleManager from './ArticleManager'\r\nexport default {\r\n  path: 'manager/article',\r\n  component: ArticleManager\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { COLUMNS } from '../Search/conf'\r\nimport { Card, Table, Button, Popconfirm, message } from 'antd';\r\nimport '../Search/Search.less';\r\nimport TagList from './TagList';\r\nimport './ArticleManager.less'\r\nimport ArticleModal from './ArticleModal';\r\nimport fetchAPI from '../../fetch';\r\nimport api from '../../api';\r\n\r\nexport default class ArticleManager extends Component {\r\n  static propTypes = {\r\n    prop: PropTypes\r\n  }\r\n  get columns () {\r\n    return [...COLUMNS, {\r\n      title: '操作',\r\n      key: 'operation',\r\n      dataIndex: 'id',\r\n      width: 100,\r\n      render: (text, record) => {\r\n        return <span>\r\n          <span className='logout' onClick={() => {\r\n            this.setState({ visible: true, isEdit: true, article: record })\r\n          }}>编辑</span>\r\n          <Popconfirm onConfirm={() => this.handleDelete(text)} title='确认删除该文献吗？删除后数据不可恢复！'>\r\n            <span className='logout-danger'>删除</span>\r\n          </Popconfirm>\r\n        </span>\r\n      }\r\n    }]\r\n  }\r\n  state = {\r\n    data: [],\r\n    isEdit: false,\r\n    visible: false,\r\n    article: {},\r\n    loading: false\r\n  }\r\n  componentDidMount() {\r\n    this.fetchArticles()\r\n  }\r\n  handleCreate = () => {\r\n    this.setState({ visible: true, isEdit: false, article: {} })\r\n  }\r\n  handleDelete = async id => {\r\n    try {\r\n      await fetchAPI(api.deleteArticle, { id })\r\n      message.success('删除成功')\r\n      this.fetchArticles()\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  fetchArticles = async () => {\r\n    try {\r\n      this.setState({ loading: true })\r\n      const list = await fetchAPI(api.getArticles)\r\n      this.setState({ loading: false, data: list })\r\n    } catch (error) {\r\n      this.setState({ loading: false })\r\n    }\r\n  }\r\n  render() {\r\n    const { visible, isEdit, article, loading } = this.state\r\n    return (\r\n      <div className='search article-manager'>\r\n        <Card title='文献类型管理'>\r\n          <TagList />\r\n        </Card>\r\n        <Card title='科技文献列表' extra={<Button type='primary' onClick={this.handleCreate}>新建科技文献</Button>}>\r\n          <Table loading={loading} rowKey='id' columns={this.columns} dataSource={this.state.data} />\r\n        </Card>\r\n        <ArticleModal visible={visible} isEdit={isEdit} article={article} afterCreate={this.fetchArticles} handleCancel={() => { this.setState({visible: false }) }} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Input, Button, message } from 'antd'\r\nimport patterns from '../../constants/patterns'\r\nimport fetchAPI from '../../fetch'\r\nimport apis from '../../api'\r\nimport '../Signup/Signup.less';\r\nconst FORM_LAYOUT = {\r\n  labelCol: { span: 6 },\r\n  wrapperCol: { span: 14 }\r\n}\r\n\r\n\r\nclass Verify extends Component {\r\n  static propTypes = {\r\n    form: PropTypes.object,\r\n    goNext: PropTypes.func,\r\n  }\r\n  handleVerify = () => {\r\n    this.props.form.validateFields(async (err, vals) => {\r\n      if (err || (!vals.user_phone && !vals.user_email) || !vals.user_name) {\r\n        message.error('用户名必填，手机号和邮箱必填其中一个')\r\n        return\r\n      }\r\n      try {\r\n        const result = await fetchAPI(apis.check, vals)\r\n        if (result) {\r\n          message.success('验证成功')\r\n          this.props.goNext(result.id)\r\n        } else {\r\n          message.error('验证失败，请检查信息是否正确')\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form layout='horizontal'>\r\n        <Form.Item label='用户名' {...FORM_LAYOUT}>\r\n          {\r\n            getFieldDecorator('user_name', {\r\n              rules: [{ required: true, message: '用户名是必填字段' }]\r\n            })(\r\n              <Input placeholder='请输入用户名' />\r\n            )\r\n          }\r\n        </Form.Item>\r\n        <Form.Item label='手机号' {...FORM_LAYOUT}>\r\n          {\r\n            getFieldDecorator('user_phone', {\r\n              rules: [{ pattern: patterns.phone, message: '请输入合法手机号' }]\r\n            })(\r\n              <Input placeholder='请输入注册时预留手机号' />\r\n            )\r\n          }\r\n        </Form.Item>\r\n        <Form.Item label='邮箱' {...FORM_LAYOUT}>\r\n          {\r\n            getFieldDecorator('user_email', {\r\n              rules: [{ pattern: patterns.email, message: '请输入合法邮箱' }]\r\n            })(\r\n              <Input placeholder='请输入注册时预留邮箱' />\r\n            )\r\n          }\r\n        </Form.Item>\r\n        <div className='signup-btn-group'>\r\n          <Button type='primary' onClick={this.handleVerify}>提交</Button>\r\n          <Button onClick={() => this.props.router.replace('/login')}>取消</Button>\r\n        </div>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\nexport default Form.create()(Verify)","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Input, Button, message } from 'antd'\r\nimport patterns from '../../constants/patterns'\r\nimport fetchAPI from '../../fetch'\r\nimport apis from '../../api'\r\nimport '../Signup/Signup.less';\r\nconst FORM_LAYOUT = {\r\n  labelCol: { span: 6 },\r\n  wrapperCol: { span: 14 }\r\n}\r\n\r\n\r\nclass SetPwd extends Component {\r\n  static propTypes = {\r\n    form: PropTypes.object,\r\n    router: PropTypes.object,\r\n    id: PropTypes.string\r\n  }\r\n  handleVerify = () => {\r\n    this.props.form.validateFields(async (err, vals) => {\r\n      if (err || (vals.user_pwd !== vals.user_pwd_again)) {\r\n        message.error('请检查密码是否合法，两次填写密码是否一致')\r\n        return\r\n      }\r\n      try {\r\n        await fetchAPI(apis.changePwd, { id: this.props.id, user_pwd: vals.user_pwd })\r\n        message.success('密码修改成功')\r\n        this.props.router.replace('/login')\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form layout='horizontal'>\r\n        <Form.Item label='新密码' {...FORM_LAYOUT}>\r\n          {\r\n            getFieldDecorator('user_pwd', {\r\n              rules: [\r\n                { required: true, message: '新密码是必填字段' },\r\n                { pattern: patterns.password, message: '请输入合法的密码' }\r\n              ]\r\n            })(\r\n              <Input.Password placeholder='6位以上的数字、大写字母、小写字母、特殊符号的组合' />\r\n            )\r\n          }\r\n        </Form.Item>\r\n        <Form.Item label='确认密码' {...FORM_LAYOUT}>\r\n          {\r\n            getFieldDecorator('user_pwd_again', {\r\n              rules: [\r\n                { required: true, message: '新密码是必填字段' },\r\n                { pattern: patterns.password, message: '请输入合法的密码' }\r\n              ]\r\n            })(\r\n              <Input.Password placeholder='请再次输入密码' />\r\n            )\r\n          }\r\n        </Form.Item>\r\n        <div className='signup-btn-group'>\r\n          <Button type='primary' onClick={this.handleVerify}>提交</Button>\r\n          <Button onClick={() => this.props.router.replace('/login')}>取消</Button>\r\n        </div>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\nexport default Form.create()(SetPwd)","import ForgetPwd from './ForgetPwd'\r\nexport default {\r\n  path: 'forget',\r\n  component: ForgetPwd\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Card, Steps } from 'antd';\r\nimport Verify from './Verify';\r\nimport SetPwd from './SetPwd';\r\nimport '../Login/Login.less';\r\n\r\nexport default class ForgetPwd extends Component {\r\n  static propTypes = {\r\n    router: PropTypes.object\r\n  }\r\n  state = {\r\n    current: 0,\r\n    id: undefined\r\n  }\r\n  get mainContent () {\r\n    const ContentMap = {\r\n      0: <Verify router={this.props.router} goNext={(id) => this.setState({ current: this.state.current + 1, id })} />,\r\n      1: <SetPwd router={this.props.router} id={this.state.id} />\r\n    }\r\n    return ContentMap[this.state.current]\r\n  }\r\n  render() {\r\n    const { current } = this.state\r\n    return (\r\n      <Card>\r\n        <div className='login-title'>忘记密码</div>\r\n        <Steps style={{ padding: '20px 20%' }} current={current}>\r\n          <Steps.Step title='验证身份信息' />\r\n          <Steps.Step title='重置密码' />\r\n        </Steps>\r\n        <div style={{ padding: '10px 20%' }}>\r\n          {this.mainContent}\r\n        </div>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","// We only need to import the modules necessary for initial render\r\nimport CoreLayout from '../layouts/CoreLayout'\r\nimport Login from './Login'\r\nimport Signup from './Signup'\r\nimport Search from './Search';\r\nimport Self from './Self';\r\nimport UserManager from './UserManager';\r\nimport ArticleManager from './ArticleManager';\r\nimport ForgetPwd from './ForgetPwd';\r\n\r\n/*  Note: Instead of using JSX, we recommend using react-router\r\n    PlainRoute objects to build route definitions.   */\r\nexport const createRoutes = store => ({\r\n\tpath: '/',\r\n\tcomponent: CoreLayout,\r\n\tonUpdate() {\r\n\t\twindow.scrollTo(0, 1)\r\n\t},\r\n\tchildRoutes: [Login, Signup, Search, Self, UserManager, ArticleManager, ForgetPwd],\r\n})\r\n\r\nexport default createRoutes\r\n"],"sourceRoot":""}